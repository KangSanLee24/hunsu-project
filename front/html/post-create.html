<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê¸€ì“°ê¸°</title>
    <link
      rel="stylesheet"
      href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css"
    />
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/post-create.css" />
  </head>
  <body>
    <header>
      <div class="logo">5ZIRAP</div>
      <nav>
        <ul>
          <li><a href="./log-in.html">ë¡œê·¸ì¸</a></li>
          <li><a href="./sign-up.html">íšŒì›ê°€ì…</a></li>
          <li><a id="userNickname"></a></li>
        </ul>
      </nav>
    </header>

    <main>
      <h1>ê²Œì‹œê¸€ ì‘ì„±</h1>
      <input type="text" id="post-title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." />
      <!-- ì œëª© ì…ë ¥ -->
      <select id="post-category">
        <option value="CHAT">ì¡ë‹´</option>
        <option value="FASHION">íŒ¨ì…˜</option>
        <option value="COOKING">ìš”ë¦¬</option>
      </select>
      <div class="editor-text-box" id="editor"></div>
      <!-- ì—ë””í„°ê°€ ë Œë”ë§ë  DIV -->
      <button id="post-submit">ê²Œì‹œê¸€ ì‘ì„±</button>
      <!-- ê²Œì‹œê¸€ ì œì¶œ ë²„íŠ¼ -->
    </main>

    <footer>
      <div class="footer-menu">
        <button onclick="window.location.href='./chat-list.html'">
          ğŸ’¬ Live Chat
        </button>
        <button onclick="window.location.href='./post-list.html'">
          ğŸ“ ê²Œì‹œíŒ
        </button>
        <button onclick="window.location.href='./main.html'">ğŸ  í™ˆìœ¼ë¡œ</button>
        <button
          class="footerAlarm"
          onclick="window.location.href='./alarm.html'"
        >
          ğŸ”” ì•ŒëŒ
        </button>
        <button onclick="window.location.href='./my-page.html'">
          ğŸ† ë§ˆì´í˜ì´ì§€
        </button>
      </div>
    </footer>
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <script type="module" src="/js/common/header.js"></script>
    <script type="module" src="/js/post/post-create.js"></script>
    <script>
      const editor = new toastui.Editor({
        el: document.querySelector('#editor'), // ì—ë””í„°ë¥¼ ì ìš©í•  ìš”ì†Œ (ì»¨í…Œì´ë„ˆ)
        height: 'auto', // ì—ë””í„° ì˜ì—­ì˜ ë†’ì´ ê°’ (OOOpx || auto)
        initialEditType: 'markdown', // ìµœì´ˆë¡œ ë³´ì—¬ì¤„ ì—ë””í„° íƒ€ì… (markdown || wysiwyg)
        initialValue: 'ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.', // ë‚´ìš©ì˜ ì´ˆê¸° ê°’ìœ¼ë¡œ, ë°˜ë“œì‹œ ë§ˆí¬ë‹¤ìš´ ë¬¸ìì—´ í˜•íƒœì—¬ì•¼ í•¨
        previewStyle: 'vertical', // ë§ˆí¬ë‹¤ìš´ í”„ë¦¬ë·° ìŠ¤íƒ€ì¼ (tab || vertical)
        placeholder: 'ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.',
        hooks: {
          addImageBlobHook(blob, callback) {
            const reader = new FileReader();
            reader.onload = () => {
              const url = reader.result; // Base64 URL ìƒì„±
              callback(url, `${blob.name}`);
              window.imageBlobs.push(blob);
            };
            reader.readAsDataURL(blob); // Blobì„ Base64ë¡œ ë³€í™˜
          },
        },
      });
    </script>
  </body>
</html>
